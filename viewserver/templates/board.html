#: extends "base.html"
#: from "post.html" import post, post_form with context

#: block title
  {{ title }}
#: endblock

#: block options
  #: if pagenum > 1
    #: if page
      <li><a href="{{ url_for('html.board', board=board, page=page - 1) }}">&laquo;</a></li>
    #: endif
    <li class="disabled"><a>Стр. {{ page }}</a></li>
    #: if pagenum > page + 1
      <li><a href="{{ url_for('html.board', board=board, page=page + 1) }}">&raquo;</a></li>
    #: endif
  #: endif
#: endblock

#: block content
  <div class="post-form" id="board-form">
    {{ post_form(url_for('html.thread_create', board=board), 0) }}
  </div>

  #: for thread in this
    <div class="post-view-tree">
      {{ post(thread.root, false) }}

      #: if thread.skipped.value
        <p class="post-missing-notice">
          Всего {{ thread.skipped.value + thread.latest|length }} постов, из них {{ thread.skipped.value }} пропущен{% if thread.skipped.value > 1 %}о{% endif %}.
        </p>
      #: endif

      #: for reply in thread.latest
        {{ post(reply, true) }}
      #: endfor
    </div>
  #: endfor
#: endblock
